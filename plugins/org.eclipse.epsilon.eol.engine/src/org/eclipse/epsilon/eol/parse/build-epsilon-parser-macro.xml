<project>
	<macrodef name="buildEpsilonParser">
		<attribute name="lang"/>
		<attribute name="langUpperCase"/>
		<attribute name="extends" default="eol"/>
		<sequential>
			<property name="project_loc" location="../../../../../.."/>
			<property name="plugins_loc" location="${project_loc}/../../plugins"/>
			<echo message="Generating @{langUpperCase} parser..."></echo>
			<java classname="org.antlr.Tool">
				<classpath>
					<pathelement location="${plugins_loc}/org.eclipse.epsilon.eol.engine/lib/antlr-3.5.2-complete-no-st3.jar"/>
				</classpath>
				<arg value="-lib"/>
				<arg value="${project_loc}/src/org/eclipse/epsilon/@{lang}/parse/"/>
				<arg value="-lib"/>
				<arg value="${plugins_loc}/org.eclipse.epsilon.eol.engine/src/org/eclipse/epsilon/eol/parse/"/>
				<arg value="-lib"/>
				<arg value="${plugins_loc}/org.eclipse.epsilon.@{extends}.engine/src/org/eclipse/epsilon/@{extends}/parse/"/>
				<arg value="-o"/>
				<arg value="${project_loc}/src/org/eclipse/epsilon/@{lang}/parse/"/>
				<arg value="${project_loc}/src/org/eclipse/epsilon/@{lang}/parse/@{langUpperCase}.g"/>
			</java>
			<eclipse.refreshLocal resource="org.eclipse.epsilon.@{lang}.engine"/>
		</sequential>
	</macrodef>
</project>